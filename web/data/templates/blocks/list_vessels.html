{% load humanize %}
{% load i18n %}
{% load lists %}
{% if table %}
  <table>
    <thead>
      <th>Vessel Name</th>
      {% if port %}<th>Home Port</th>{% endif %}
      <th>Amount</th>
    </thead>
    {% for vessel in vessels %}
      {% url vessel country=vessel.country cfr=vessel.pk name=vessel.name|slugify as vessel_url %}
      <tr>
        <td>
          <a href="{{ vessel_url }}">
              
            {% if vessel.name %}
              {{ vessel.name|title }} 
            {% else %}
              {% trans "Unknown beneficiary" %}
            {% endif %}
            
            ({{ vessel.pk }})</a>        
          {% if expand %}({{ vessel.status }} payment{{ vessel.status|pluralize }}) {% endif %}
        </td>
        {% url data.views.port country=vessel.country port=vessel.port_set.name as port_url %}
        {% if port %}<td><a href="{{ port_url }}">{{ vessel.port.name|title }}</a></td>{% endif %}
        <td>{% if amount %} &euro;{{ vessel.total|floatformat|intcomma }}{% endif %}</td>
        <td>{% list_item_edit vessel %}</td>                  
      </tr>
    {% endfor %}
  </table>
{% else %}
  <ul>
    {% for vessel in vessels %}
      {% url vessel country=vessel.country cfr=vessel.cfr name=vessel.name|slugify as vessel_url %}
          <li>
          <a href="{{ vessel_url }}">{{ vessel.name|title }} ({{ vessel.cfr }})</a>
          {% if amount %} &mdash; &euro;{{ vessel.amount|floatformat|intcomma }}{% endif %}
          {% if expand %}({{ vessel.status }} payment{{ vessel.status|pluralize }}) {% endif %}
          </li>
    {% endfor %}
  
  </ul>
{% endif %}